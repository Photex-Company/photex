function _defineProperties(e,t){for(var c=0;c<t.length;c++){var a=t[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{JvPR:function(e,t,c){"use strict";c.r(t);var a,i=c("ofXK"),n=c("tyNb"),o=c("EGQa"),l=c("3wQM"),r=c("0IaG"),s=function(e){return e.READY="READY",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({}),d=function e(t,c,a){_classCallCheck(this,e),this.createdAt=new Date,this.file=c,this.status=s.READY,this.index=a,this.catalogueId=t},g=c("LvDl"),f=c("fXoL"),u=c("MB3r"),p=((a=function(){function e(){_classCallCheck(this,e),this.filesDropped=new f.q,this.filesHovered=new f.q}return _createClass(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.filesDropped.emit(e.dataTransfer.files),this.filesHovered.emit(!1)}},{key:"onDragOver",value:function(e){event.preventDefault(),this.filesHovered.emit(!0)}},{key:"onDragLeave",value:function(e){this.filesHovered.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275dir=f.Vb({type:a,selectors:[["","appFileDrop",""]],hostBindings:function(e,t){1&e&&f.oc("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{filesDropped:"filesDropped",filesHovered:"filesHovered"}}),a),m=c("NFeN"),h=c("Qu3c"),v=c("bTqV");function y(e,t){if(1&e){var c=f.hc();f.gc(0,"div",11),f.gc(1,"div",12),f.gc(2,"div",13),f.gc(3,"label",14),f.Pc(4,"Choose File "),f.fc(),f.fc(),f.fc(),f.gc(5,"div",12),f.gc(6,"div",13),f.gc(7,"input",15),f.oc("change",(function(e){return f.Hc(c),f.sc().handleDrop(e.target.files)})),f.fc(),f.fc(),f.fc(),f.fc()}}var b=function(e){return{active:e}};function I(e,t){if(1&e){var c=f.hc();f.gc(0,"div",16),f.oc("filesDropped",(function(e){return f.Hc(c),f.sc().handleDrop(e)}))("filesHovered",(function(e){return f.Hc(c),f.sc().dropzoneState(e)})),f.gc(1,"mat-icon"),f.Pc(2,"cloud_upload"),f.fc(),f.fc()}if(2&e){var a=f.sc();f.yc("ngClass",f.Bc(1,b,a.dropzoneActive))}}function P(e,t){if(1&e){var c=f.hc();f.gc(0,"mat-icon",27),f.oc("click",(function(){f.Hc(c);var e=f.sc().$implicit;return f.sc(2).unattach(e)})),f.Pc(1,"not_interested"),f.fc()}2&e&&f.yc("matTooltip","Unattach")}function E(e,t){1&e&&(f.gc(0,"mat-icon"),f.Pc(1,"check_circle_outline"),f.fc())}function F(e,t){if(1&e&&(f.gc(0,"mat-icon",28),f.Pc(1,"highlight_off "),f.fc()),2&e){var c=f.sc().$implicit;f.yc("matTooltip",c.errorMsg?c.errorMsg:"Unknown error")}}function _(e,t){1&e&&(f.gc(0,"mat-icon"),f.Pc(1,"done"),f.fc())}function k(e,t){if(1&e&&(f.gc(0,"div",12),f.Nc(1,P,2,1,"mat-icon",22),f.gc(2,"div",23),f.Pc(3),f.fc(),f.gc(4,"div",24),f.Nc(5,E,2,0,"mat-icon",25),f.Nc(6,F,2,1,"mat-icon",26),f.Nc(7,_,2,0,"mat-icon",25),f.fc(),f.fc()),2&e){var c=t.$implicit,a=f.sc(2);f.Ob(1),f.yc("ngIf","READY"===a.getUploadStatus(c.index)),f.Ob(2),f.Rc(" ",c.file.name," "),f.Ob(1),f.yc("ngSwitch",a.getUploadStatus(c.index)),f.Ob(1),f.yc("ngSwitchCase","READY"),f.Ob(1),f.yc("ngSwitchCase","ERROR"),f.Ob(1),f.yc("ngSwitchCase","SUCCESS")}}function C(e,t){if(1&e&&(f.gc(0,"div",17),f.gc(1,"div",12),f.gc(2,"div",18),f.gc(3,"div",12),f.gc(4,"h3"),f.Pc(5,"Uploads status:"),f.fc(),f.fc(),f.Nc(6,k,8,6,"ng-template",19),f.fc(),f.gc(7,"div",18),f.gc(8,"div",12),f.gc(9,"h3"),f.Pc(10,"Legend:"),f.fc(),f.fc(),f.gc(11,"div",12),f.gc(12,"div",20),f.Pc(13,"Ready to upload"),f.fc(),f.gc(14,"div",21),f.gc(15,"mat-icon"),f.Pc(16,"check_circle_outline"),f.fc(),f.fc(),f.fc(),f.gc(17,"div",12),f.gc(18,"div",20),f.Pc(19,"Error during upload"),f.fc(),f.gc(20,"div",21),f.gc(21,"mat-icon"),f.Pc(22,"highlight_off"),f.fc(),f.fc(),f.fc(),f.gc(23,"div",12),f.gc(24,"div",20),f.Pc(25,"Successful upload"),f.fc(),f.gc(26,"div",21),f.gc(27,"mat-icon"),f.Pc(28,"done"),f.fc(),f.fc(),f.fc(),f.fc(),f.fc(),f.fc()),2&e){var c=f.sc();f.Ob(6),f.yc("ngForOf",c.uploadList)}}function O(e,t){if(1&e){var c=f.hc();f.gc(0,"button",29),f.oc("click",(function(){return f.Hc(c),f.sc().upload()})),f.Pc(1,"Upload"),f.fc()}}function M(e,t){if(1&e){var c=f.hc();f.gc(0,"button",29),f.oc("click",(function(){return f.Hc(c),f.sc().ok()})),f.Pc(1,"OK"),f.fc()}}function x(e,t){if(1&e){var c=f.hc();f.gc(0,"button",30),f.oc("click",(function(){return f.Hc(c),f.sc().close()})),f.Pc(1,"Cancel"),f.fc()}}var T,D,w=((T=function(){function e(t,c,a){_classCallCheck(this,e),this.dialogRef=t,this.data=c,this.catalogueService=a,this.dropzoneActive=!1,this.uploadList=[],this.uploaded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"toggleHover",value:function(e){this.isHovering=e}},{key:"handleDrop",value:function(e){var t=this,c=g.range(e.length);g.each(c,(function(c){t.uploadList.push(new d(t.data.catalogueId,e[c],c))}))}},{key:"dropzoneState",value:function(e){this.dropzoneActive=e}},{key:"isFileList",value:function(){return this.uploadList.length>0}},{key:"unattach",value:function(e){var t=this.uploadList.indexOf(e,0);t>-1&&this.uploadList.splice(t,1)}},{key:"upload",value:function(){var e=this;this.uploaded=!0;var t=g.range(this.uploadList.length);g.each(t,(function(t){e.catalogueService.saveImage(e.uploadList[t]).subscribe((function(){e.uploadList[t].status=s.SUCCESS}),(function(c){c.error&&c.error.message&&(e.uploadList[t].errorMsg=c.error.message),console.log(c.error),e.uploadList[t].status=s.ERROR}))}))}},{key:"getUploadStatus",value:function(e){return this.uploadList[e].status}},{key:"isNotUploaded",value:function(){return!this.uploaded}},{key:"ok",value:function(){this.dialogRef.close(!0)}}]),e}()).\u0275fac=function(e){return new(e||T)(f.ac(r.e),f.ac(r.a),f.ac(u.a))},T.\u0275cmp=f.Ub({type:T,selectors:[["app-add-image-modal"]],decls:16,vars:7,consts:[[1,"modal-header-container"],[1,"modal-title-container"],["mat-dialog-title",""],["mat-dialog-content","",1,"modal-content-conatiner"],["class","ml-1 form-group",4,"ngIf"],[1,"box"],["class","dropzone","appFileDrop","",3,"ngClass","filesDropped","filesHovered",4,"ngIf"],["class","file-list-container",4,"ngIf"],[1,"modal-buttons-container","center-block","text-center"],["mat-button","","class","btn btn-primary modal-btn",3,"click",4,"ngIf"],["mat-button","","class","btn btn-secondary modal-btn",3,"click",4,"ngIf"],[1,"ml-1","form-group"],[1,"row"],[1,"col-md"],["for","file"],["type","file","id","file",3,"change"],["appFileDrop","",1,"dropzone",3,"ngClass","filesDropped","filesHovered"],[1,"file-list-container"],[1,"col-md-6"],["ngFor","",3,"ngForOf"],[1,"col-md-7"],[1,"col-md-3"],["class","clicable",3,"matTooltip","click",4,"ngIf"],[1,"col-md-3","trunkcut"],[1,"col-md-3",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"matTooltip",4,"ngSwitchCase"],[1,"clicable",3,"matTooltip","click"],[3,"matTooltip"],["mat-button","",1,"btn","btn-primary","modal-btn",3,"click"],["mat-button","",1,"btn","btn-secondary","modal-btn",3,"click"]],template:function(e,t){1&e&&(f.gc(0,"div",0),f.gc(1,"div",1),f.gc(2,"h1",2),f.Pc(3,"Add images"),f.fc(),f.fc(),f.fc(),f.gc(4,"div",3),f.Pc(5," Add images to catalogue "),f.gc(6,"b"),f.Pc(7),f.fc(),f.fc(),f.Nc(8,y,8,0,"div",4),f.gc(9,"div",5),f.Nc(10,I,3,3,"div",6),f.Nc(11,C,29,1,"div",7),f.fc(),f.gc(12,"div",8),f.Nc(13,O,2,0,"button",9),f.Nc(14,M,2,0,"button",9),f.Nc(15,x,2,0,"button",10),f.fc()),2&e&&(f.Ob(7),f.Qc(t.data.catalogueName),f.Ob(1),f.yc("ngIf",t.isNotUploaded()),f.Ob(2),f.yc("ngIf",t.isNotUploaded()),f.Ob(1),f.yc("ngIf",t.isFileList()),f.Ob(2),f.yc("ngIf",t.isFileList()&&t.isNotUploaded()),f.Ob(1),f.yc("ngIf",!t.isNotUploaded()),f.Ob(1),f.yc("ngIf",t.isNotUploaded()))},directives:[r.f,r.c,i.m,p,i.k,m.a,i.l,i.n,i.o,h.a,v.b],styles:[".modal-header-container[_ngcontent-%COMP%]{border-bottom:grey}.modal-content-conatiner[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.modal-btn[_ngcontent-%COMP%]{width:100px;padding:10px;margin:10px;width:150px}.dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:45vw;font-weight:200;height:150px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0;z-index:1000}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #d000da;color:#d000da!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}.dropzone[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:50px}.box[_ngcontent-%COMP%]{min-width:45vw}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}.file-list-container[_ngcontent-%COMP%]{margin:15px;width:90%;display:inline-block;vertical-align:middle}.trunkcut[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.clicable[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),T),S=c("cp0P"),N=c("Su13"),X=c("Lr9k"),A=c("aEH8"),U=c("FmOb"),H=c("byV+"),R=c("GIG7"),L=((D=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t="";return e.forEach((function(e,c){t+="\u2022 "+c+": "+e+"\n"})),t}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275pipe=f.Zb({name:"tooltipList",type:D,pure:!0}),D),G=c("82XJ");function B(e,t){if(1&e){var c=f.hc();f.gc(0,"img",15),f.oc("click",(function(){f.Hc(c);var e=f.sc().$implicit;return f.sc(),f.Fc(1).selectItem(e)})),f.fc()}}function z(e,t){if(1&e){var c=f.hc();f.gc(0,"img",16),f.oc("click",(function(){f.Hc(c);var e=f.sc().$implicit;return f.sc(),f.Fc(1).unselectItem(e)})),f.fc()}}function J(e,t){if(1&e){var c=f.hc();f.gc(0,"div",8),f.gc(1,"div",9),f.Nc(2,B,1,0,"img",10),f.Nc(3,z,1,0,"ng-template",null,11,f.Oc),f.gc(5,"img",12),f.oc("click",(function(){f.Hc(c);var e=t.$implicit;return f.sc().goToImageDetails(e)})),f.tc(6,"tooltipList"),f.fc(),f.gc(7,"label",13),f.Pc(8),f.fc(),f.gc(9,"label",14),f.Pc(10),f.tc(11,"dateFormat"),f.fc(),f.fc(),f.fc()}if(2&e){var a=t.$implicit,i=f.Fc(4),n=f.sc(),o=f.Fc(1);f.Ob(2),f.yc("ngIf",!o.isSelected(a.Id))("ngIfElse",i),f.Ob(3),f.zc("src",a.Url,f.Ic),f.yc("matTooltip",f.uc(6,6,n.parseImageMetadata(a.Metadata))),f.Ob(3),f.Qc(a.Description),f.Ob(2),f.Qc(f.vc(11,8,a.DateModified,!0))}}var j,Y=((j=function(){function e(t,c,a,i,n,o,l){_classCallCheck(this,e),this.route=t,this.catalogueService=c,this.router=a,this.dialog=i,this.snackBar=n,this.sortService=o,this.filterService=l,this.selected=[],this.sort=[],this.showTooltipExif=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCatalogueId(),this.refreshImages(),this.initToolbar(),this.initFilters()}},{key:"goToImageDetails",value:function(e){this.router.navigate([o.a.CATALOGUE,o.a.IMAGE_DETAILS,e.Id],{queryParams:{catalogueName:this.catalogueName}})}},{key:"getCatalogueId",value:function(){this.currentCatalogueId=Number(this.route.snapshot.paramMap.get("id"))}},{key:"refreshImages",value:function(){var e=this;this.selected=[],this.catalogueService.getAllImagesFromCatalogue(this.currentCatalogueId).subscribe((function(t){e.catalogueName=t.Name,e.images=t.Images,e.filteredImages=e.images}))}},{key:"initToolbar",value:function(){this.sort.push({name:"Name",field:N.a.DESCRIPTION,direction:X.a.NONE}),this.sort.push({name:"Modified date",field:N.a.DATE_MOFIDIED,direction:X.a.NONE}),this.toolbarConfig={allowDownload:!0,allowFilter:!0}}},{key:"initFilters",value:function(){var e=this;this.filterService.applyFilters$.subscribe((function(t){t?e.filterImages(t):e.refreshImages()})),this.filterService.showFilteredAttr$.subscribe((function(t){if(t){var c=e.showTooltipExif.indexOf(e.showTooltipExif.find((function(e){return e.exif===t.exif})));-1===c?e.showTooltipExif.push(t):e.showTooltipExif[c]=t}}))}},{key:"back",value:function(){this.router.navigate([o.a.DASHBOARD])}},{key:"selectAll",value:function(){this.selected=Object.assign([],this.images)}},{key:"unselectAll",value:function(){this.selected=[]}},{key:"delete",value:function(e){1===e.length?this.deleteImage(e[0]):this.deleteBulkImages(e)}},{key:"deleteImage",value:function(e){var t=this;this.dialog.open(l.a,{data:{title:"Delete image",message:"Are you sure to delete image "+e.Description+"?",ok:"Delete",cancel:"Cancel"}}).afterClosed().subscribe((function(c){c&&t.catalogueService.deleteImage(e.Id).subscribe((function(e){t.snackBar.open("Image was deleted","Image delete"),t.refreshImages()}))}))}},{key:"deleteBulkImages",value:function(e){var t=this;this.dialog.open(l.a,{data:{title:"Delete image",message:"Are you sure to delete "+e.length+" images?",ok:"Delete",cancel:"Cancel"}}).afterClosed().subscribe((function(c){if(c){var a=[];e.forEach((function(e){a.push(t.catalogueService.deleteImage(e.Id))})),Object(S.a)(a).subscribe((function(){t.snackBar.open("Images was deleted","Images delete",3e3),t.refreshImages()}),(function(e){console.log(e),t.snackBar.open("Images could not be deleted","Ok",3e3)}))}}))}},{key:"addImage",value:function(){var e=this;this.dialog.open(w,{data:{catalogueId:this.currentCatalogueId,catalogueName:this.catalogueName}}).afterClosed().subscribe((function(t){t&&e.refreshImages()}))}},{key:"sortImages",value:function(e){e.direction===X.a.NONE?this.refreshImages():this.sortService.sort(this.images,e)}},{key:"filterImages",value:function(e){var t=this,c=[];e.find((function(e){return""!==e.value}))?e.forEach((function(e){c=t.images.filter((function(t){return!!(t.Metadata&&t.Metadata[e.exif]&&t.Metadata[e.exif][e.field]&&t.Metadata[e.exif][e.field].toLowerCase().includes(e.value.toLocaleLowerCase()))})),t.filteredImages=c})):this.refreshImages()}},{key:"parseImageMetadata",value:function(e){if(e){var t=[];this.showTooltipExif.forEach((function(c){c.value&&t.push(e[c.exif])}));var c=new Map;return t.forEach((function(e){if(e)for(var t=0,a=Object.keys(e);t<a.length;t++){var i=a[t];c.set(i,e[i])}})),c}}}]),e}()).\u0275fac=function(e){return new(e||j)(f.ac(n.a),f.ac(u.a),f.ac(n.d),f.ac(r.b),f.ac(A.a),f.ac(U.a),f.ac(H.a))},j.\u0275cmp=f.Ub({type:j,selectors:[["app-catalogue-page"]],decls:13,vars:6,consts:[[3,"toolbarConfig","selected","itemsCount","sortingOptions","addEvent","deleteEvent","selectAllEvent","sortingEvent"],["toolbar",""],[1,"container-fluid"],[1,"row"],[1,"col-md-4"],[1,"inline"],[1,"back-button",3,"click"],["ngFor","",3,"ngForOf"],[1,"col-md-3","img-container"],[1,"img-wrap"],["src","assets/svg/radio_button_unchecked.svg","class","select","onmouseover","this.src='assets/svg/check_circle_outline.svg'","onmouseout","this.src='assets/svg/radio_button_unchecked.svg'",3,"click",4,"ngIf","ngIfElse"],["selectedImg",""],["onerror","this.src='../../../../assets/img/catalogue.png'","alt","Catalogue img","matTooltipClass","multiline-tooltip",1,"image",3,"src","matTooltip","click"],[1,"img-label"],[1,"form-group","img-label","date"],["src","assets/svg/radio_button_unchecked.svg","onmouseover","this.src='assets/svg/check_circle_outline.svg'","onmouseout","this.src='assets/svg/radio_button_unchecked.svg'",1,"select",3,"click"],["src","assets/svg/check_circle.svg",1,"select",3,"click"]],template:function(e,t){1&e&&(f.gc(0,"app-toolbar",0,1),f.oc("addEvent",(function(){return t.addImage()}))("deleteEvent",(function(e){return t.delete(e)}))("selectAllEvent",(function(){return t.selectAll()}))("sortingEvent",(function(e){return t.sortImages(e)})),f.fc(),f.gc(2,"div",2),f.gc(3,"div",3),f.gc(4,"div",4),f.gc(5,"h1",5),f.gc(6,"a",6),f.oc("click",(function(){return t.back()})),f.Pc(7,"Dashboard"),f.fc(),f.gc(8,"mat-icon"),f.Pc(9,"keyboard_arrow_right"),f.fc(),f.Pc(10),f.fc(),f.fc(),f.fc(),f.gc(11,"div",3),f.Nc(12,J,12,11,"ng-template",7),f.fc(),f.fc()),2&e&&(f.yc("toolbarConfig",t.toolbarConfig)("selected",t.selected)("itemsCount",t.images?t.images.length:null)("sortingOptions",t.sort),f.Ob(10),f.Rc(" Catalogue: ",t.catalogueName," "),f.Ob(2),f.yc("ngForOf",t.filteredImages))},directives:[R.a,m.a,i.l,i.m,h.a],pipes:[L,G.a],styles:[".image[_ngcontent-%COMP%]{margin:30px 15px 15px;height:78px}.img-container[_ngcontent-%COMP%]{display:inline;margin-bottom:20px;padding:10px}label[_ngcontent-%COMP%]{display:block}.inline.back-arrow[_ngcontent-%COMP%]{display:inline-block}.img-wrap[_ngcontent-%COMP%]{position:relative;width:172px;height:172px;text-align:center}.img-wrap[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,75.3%,.3);cursor:pointer}.img-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{position:absolute;top:2px;right:4px;z-index:100}.img-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:hover{cursor:pointer;color:rgba(51,34,51,.13)}h1[_ngcontent-%COMP%]{margin:16px}h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}.back-button[_ngcontent-%COMP%]{padding:5px}.back-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,75.3%,.4);cursor:pointer}.img-label.date[_ngcontent-%COMP%]{white-space:nowrap;font-size:12px}  .multiline-tooltip{white-space:pre-line}"]}),j),W=function e(){_classCallCheck(this,e)},$=c("Vkk5"),K=c("7EHt");function Q(e,t){if(1&e&&(f.gc(0,"div"),f.gc(1,"div",2),f.gc(2,"div",3),f.Pc(3),f.fc(),f.gc(4,"div",3),f.Pc(5),f.fc(),f.fc(),f.fc()),2&e){var c=t.$implicit;f.Ob(3),f.Rc("",c.key,":"),f.Ob(2),f.Qc(c.value)}}function q(e,t){if(1&e&&(f.gc(0,"div"),f.Nc(1,Q,6,2,"div",1),f.tc(2,"keyvalue"),f.fc()),2&e){var c=f.sc();f.Ob(1),f.yc("ngForOf",f.uc(2,1,c.list))}}var V,Z=((V=function(){function e(){_classCallCheck(this,e),this.list=new Map}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"parseMetadata",value:function(e){if(e)for(var t=0,c=Object.keys(e);t<c.length;t++){var a=c[t];this.list.set(a,e[a])}}},{key:"getMetadata",set:function(e){this.parseMetadata(e)}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=f.Ub({type:V,selectors:[["app-image-details-readonly"]],inputs:{title:"title",description:"description",getMetadata:"getMetadata"},decls:7,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6"]],template:function(e,t){1&e&&(f.gc(0,"mat-expansion-panel"),f.gc(1,"mat-expansion-panel-header"),f.gc(2,"mat-panel-title"),f.Pc(3),f.fc(),f.gc(4,"mat-panel-description"),f.Pc(5),f.fc(),f.fc(),f.Nc(6,q,3,3,"div",0),f.fc()),2&e&&(f.Ob(3),f.Rc(" ",t.title," "),f.Ob(2),f.Rc(" ",t.description," "),f.Ob(1),f.yc("ngIf",t.list))},directives:[K.b,K.d,K.e,K.c,i.m,i.l],pipes:[i.g],styles:["mat-panel-title[_ngcontent-%COMP%]{font-weight:700}mat-expansion-panel[_ngcontent-%COMP%]{margin:10px}"]}),V),ee=function(e){return e.DocumentName="DocumentName",e.ImageDescription="ImageDescription",e.Make="Make",e.Model="Model",e.Software="Software",e.ModifyDate="ModifyDate",e.Artist="Artist",e.HostComputer="HostComputer",e.Copyright="Copyright",e.GPSInfo="GPSInfo",e.DateTimeOriginal="DateTimeOriginal",e.CreateDate="CreateDate",e.UserComment="UserComment",e.XPTitle="XPTitle",e.XPComment="XPComment",e.XPAuthor="XPAuthor",e.XPKeywords="XPKeywords",e.OwnerName="OwnerName",e}({}),te=c("Wp6s"),ce=c("z17N"),ae=c("3Pt+");function ie(e,t){if(1&e){var c=f.hc();f.gc(0,"mat-card"),f.gc(1,"mat-card-title"),f.gc(2,"h3"),f.Pc(3,"Exif IFD0"),f.fc(),f.fc(),f.gc(4,"div",0),f.gc(5,"div",21),f.gc(6,"div",0),f.gc(7,"div",2),f.gc(8,"div",3),f.gc(9,"label",4),f.Pc(10,"Document Name"),f.gc(11,"sup"),f.gc(12,"mat-icon",22),f.Pc(13," help_outline"),f.fc(),f.fc(),f.fc(),f.gc(14,"input",23),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.DocumentName,e)})),f.fc(),f.fc(),f.fc(),f.gc(15,"div",2),f.gc(16,"div",3),f.gc(17,"label",4),f.Pc(18,"Image description"),f.gc(19,"sup"),f.gc(20,"mat-icon",24),f.Pc(21,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(22,"input",25),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.ImageDescription,e)})),f.fc(),f.fc(),f.fc(),f.gc(23,"div",2),f.gc(24,"div",3),f.gc(25,"label",4),f.Pc(26,"Make"),f.gc(27,"sup"),f.gc(28,"mat-icon",26),f.Pc(29,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(30,"input",27),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.Make,e)})),f.fc(),f.fc(),f.fc(),f.gc(31,"div",2),f.gc(32,"div",3),f.gc(33,"label",4),f.Pc(34,"Model"),f.gc(35,"sup"),f.gc(36,"mat-icon",28),f.Pc(37,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(38,"input",29),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.Model,e)})),f.fc(),f.fc(),f.fc(),f.fc(),f.gc(39,"div",0),f.gc(40,"div",2),f.gc(41,"div",3),f.gc(42,"label",4),f.Pc(43,"Software"),f.gc(44,"sup"),f.gc(45,"mat-icon",30),f.Pc(46,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(47,"input",31),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.Software,e)})),f.fc(),f.fc(),f.fc(),f.gc(48,"div",2),f.gc(49,"div",3),f.gc(50,"label",4),f.Pc(51,"ModifyDate"),f.gc(52,"sup"),f.gc(53,"mat-icon",32),f.Pc(54,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(55,"input",33),f.oc("ngModelChange",(function(e){return f.Hc(c),f.sc().modifyDate=e})),f.fc(),f.bc(56,"owl-date-time",null,34),f.fc(),f.fc(),f.gc(58,"div",2),f.gc(59,"div",3),f.gc(60,"label",4),f.Pc(61,"Artist"),f.gc(62,"sup"),f.gc(63,"mat-icon",35),f.Pc(64,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(65,"input",36),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.Artist,e)})),f.fc(),f.fc(),f.fc(),f.gc(66,"div",2),f.gc(67,"div",3),f.gc(68,"label",4),f.Pc(69,"Host Computer"),f.gc(70,"sup"),f.gc(71,"mat-icon",37),f.Pc(72,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(73,"input",38),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.HostComputer,e)})),f.fc(),f.fc(),f.fc(),f.gc(74,"div",2),f.gc(75,"div",3),f.gc(76,"label",4),f.Pc(77,"Copyright"),f.gc(78,"sup"),f.gc(79,"mat-icon",39),f.Pc(80,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(81,"input",40),f.oc("keyup",(function(e){f.Hc(c);var t=f.sc();return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.Copyright,e)})),f.fc(),f.fc(),f.fc(),f.fc(),f.fc(),f.fc(),f.fc()}if(2&e){var a=f.Fc(57),i=f.sc();f.Ob(14),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Document Name")),f.Ob(8),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Image Description")),f.Ob(8),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Make")),f.Ob(8),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Model")),f.Ob(9),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Software")),f.Ob(8),f.yc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",i.modifyDate),f.Ob(10),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Artist")),f.Ob(8),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Host Computer")),f.Ob(8),f.yc("value",i.getMetadata(i.ExifType.EXIF_IFD0,"Copyright"))}}var ne,oe=function(e){return e.EXIF_IFD0="Exif IFD0",e.GPS="GPS",e.Exif_SUB_IFD="Exif SubIFD",e}({}),le=((ne=function(){function e(t,c){_classCallCheck(this,e),this.service=t,this.datePipe=c,this.ExifType=e.ExifType,this.FieldType=e.FieldType,this.editField=Object(g.debounce)(this.editField,1e3)}return _createClass(e,[{key:"ngOnInit",value:function(){this.initDates()}},{key:"getMetadata",value:function(e,t){return this.metadata&&void 0!==this.metadata[e][t]?this.metadata[e][t]:""}},{key:"isMetadata",value:function(e){return this.metadata&&void 0!==this.metadata[e]}},{key:"editField",value:function(e,t,c){this.service.updateMetadata(this.imageId,{NewMetadata:[{Name:t,NewValue:c.target.value}]}).subscribe((function(e){c.target.blur()}))}},{key:"initDates",value:function(){this.metadata&&this.metadata[oe.EXIF_IFD0]&&(this.modifyDate=new Date(this.metadata[oe.EXIF_IFD0]["Date/Time"]))}},{key:"parseDate",value:function(){var e=new Date("2020-05-02T12:00:00Z");return console.log(e),e}}]),e}()).ExifType=oe,ne.FieldType=ee,ne.\u0275fac=function(e){return new(e||ne)(f.ac(u.a),f.ac(i.e))},ne.\u0275cmp=f.Ub({type:ne,selectors:[["app-image-details-editable"]],inputs:{metadata:"metadata",imageId:"imageId"},decls:83,vars:9,consts:[[1,"row"],[4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for","id"],["matTooltip","test"],["type","text","placeholder","Gps information",1,"form-control",3,"value","keyup"],["matTooltip","This tag records the owner of a camera used in photography as an ASCII string."],["type","text","placeholder","Owner name",1,"form-control",3,"value","keyup"],["matTooltip","A tag for Exif users to write keywords or comments on the image."],["type","text","placeholder","User comment",1,"form-control",3,"value","keyup"],["matTooltip","The date and time when the original image data was generated."],["type","text","placeholder","Date time original",1,"form-control",3,"value"],["matTooltip","Title tag used by Windows."],["type","text","placeholder","XP title",1,"form-control",3,"value","keyup"],["matTooltip","Comment tag used by Windows."],["type","text","placeholder","XP comment",1,"form-control",3,"value","keyup"],["matTooltip","Author tag used by Windows."],["type","text","placeholder","XP author",1,"form-control",3,"value","keyup"],["matTooltip","Keywords tag used by Windows."],["type","text","placeholder","XP keywords",1,"form-control",3,"value","keyup"],[1,"col-md-12"],["matTooltip","The name of the document from which this image was scanned"],["type","text","placeholder","Document name",1,"form-control",3,"value","keyup"],["matTooltip","A character string giving the title of the image."],["type","text","placeholder","Image Description",1,"form-control",3,"value","keyup"],["matTooltip","The manufacturer of the recording equipment."],["type","text","placeholder","Make",1,"form-control",3,"value","keyup"],["matTooltip","The model name or model number of the equipment."],["type","text","placeholder","Model",1,"form-control",3,"value","keyup"],["matTooltip","This tag records the name and version of the software or firmware of the camera or image input device used to generate the image."],["type","text","placeholder","Software",1,"form-control",3,"value","keyup"],["matTooltip","The date and time of image creation."],["type","text","placeholder","Modify date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["dt",""],["matTooltip","This tag records the name of the camera owner, photographer or image creator."],["type","text","placeholder","Artist",1,"form-control",3,"value","keyup"],["matTooltip","This tag records information about the host computer used to generate the image."],["type","text","placeholder","Host computer",1,"form-control",3,"value","keyup"],["matTooltip","Copyright information."],["type","text","placeholder","Copyright",1,"form-control",3,"value","keyup"]],template:function(e,t){1&e&&(f.gc(0,"div",0),f.gc(1,"h1"),f.Pc(2,"Editable Exif"),f.fc(),f.fc(),f.Nc(3,ie,82,11,"mat-card",1),f.gc(4,"mat-card"),f.gc(5,"mat-card-title"),f.gc(6,"h3"),f.Pc(7,"GPS"),f.fc(),f.fc(),f.gc(8,"div",0),f.gc(9,"div",2),f.gc(10,"div",3),f.gc(11,"label",4),f.Pc(12,"GPS Info"),f.gc(13,"sup"),f.gc(14,"mat-icon",5),f.Pc(15,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(16,"input",6),f.oc("keyup",(function(e){return t.editField(t.ExifType.GPS,t.FieldType.GPSInfo,e)})),f.fc(),f.fc(),f.fc(),f.fc(),f.fc(),f.gc(17,"mat-card"),f.gc(18,"mat-card-title"),f.gc(19,"h3"),f.Pc(20,"Exif SubIFD"),f.fc(),f.fc(),f.gc(21,"div",0),f.gc(22,"div",2),f.gc(23,"div",3),f.gc(24,"label",4),f.Pc(25,"Owner Name"),f.gc(26,"sup"),f.gc(27,"mat-icon",7),f.Pc(28,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(29,"input",8),f.oc("keyup",(function(e){return t.editField(t.ExifType.Exif_SUB_IFD,t.FieldType.OwnerName,e)})),f.fc(),f.fc(),f.fc(),f.gc(30,"div",2),f.gc(31,"div",3),f.gc(32,"label",4),f.Pc(33,"User Comment"),f.gc(34,"sup"),f.gc(35,"mat-icon",9),f.Pc(36,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(37,"input",10),f.oc("keyup",(function(e){return t.editField(t.ExifType.Exif_SUB_IFD,t.FieldType.UserComment,e)})),f.fc(),f.fc(),f.fc(),f.gc(38,"div",2),f.gc(39,"div",3),f.gc(40,"label",4),f.Pc(41,"Date Time Original"),f.gc(42,"sup"),f.gc(43,"mat-icon",11),f.Pc(44,"help_outline "),f.fc(),f.fc(),f.fc(),f.bc(45,"input",12),f.fc(),f.fc(),f.fc(),f.fc(),f.gc(46,"mat-card"),f.gc(47,"mat-card-title"),f.gc(48,"h3"),f.Pc(49,"Windows XP Exif"),f.fc(),f.fc(),f.gc(50,"div",0),f.gc(51,"div",2),f.gc(52,"div",3),f.gc(53,"label",4),f.Pc(54,"XP Title"),f.gc(55,"sup"),f.gc(56,"mat-icon",13),f.Pc(57,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(58,"input",14),f.oc("keyup",(function(e){return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.XPTitle,e)})),f.fc(),f.fc(),f.fc(),f.gc(59,"div",2),f.gc(60,"div",3),f.gc(61,"label",4),f.Pc(62,"XP Comment"),f.gc(63,"sup"),f.gc(64,"mat-icon",15),f.Pc(65,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(66,"input",16),f.oc("keyup",(function(e){return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.XPComment,e)})),f.fc(),f.fc(),f.fc(),f.gc(67,"div",2),f.gc(68,"div",3),f.gc(69,"label",4),f.Pc(70,"XP Author"),f.gc(71,"sup"),f.gc(72,"mat-icon",17),f.Pc(73,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(74,"input",18),f.oc("keyup",(function(e){return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.XPAuthor,e)})),f.fc(),f.fc(),f.fc(),f.gc(75,"div",2),f.gc(76,"div",3),f.gc(77,"label",4),f.Pc(78,"XP Keywords"),f.gc(79,"sup"),f.gc(80,"mat-icon",19),f.Pc(81,"help_outline "),f.fc(),f.fc(),f.fc(),f.gc(82,"input",20),f.oc("keyup",(function(e){return t.editField(t.ExifType.EXIF_IFD0,t.FieldType.XPKeywords,e)})),f.fc(),f.fc(),f.fc(),f.fc(),f.fc()),2&e&&(f.Ob(3),f.yc("ngIf",t.isMetadata(t.ExifType.EXIF_IFD0)),f.Ob(13),f.yc("value",t.getMetadata(t.ExifType.GPS,"GPS Area Information")),f.Ob(13),f.yc("value",t.getMetadata(t.ExifType.Exif_SUB_IFD,"Camera Owner Name")),f.Ob(8),f.yc("value",t.getMetadata(t.ExifType.Exif_SUB_IFD,"User Comment")),f.Ob(8),f.yc("value",t.getMetadata(t.ExifType.Exif_SUB_IFD,"Date/Time Original")),f.Ob(13),f.yc("value",t.getMetadata(t.ExifType.EXIF_IFD0,"Windows XP Title")),f.Ob(8),f.yc("value",t.getMetadata(t.ExifType.EXIF_IFD0,"Windows XP Comment")),f.Ob(8),f.yc("value",t.getMetadata(t.ExifType.EXIF_IFD0,"Windows XP Author")),f.Ob(8),f.yc("value",t.getMetadata(t.ExifType.EXIF_IFD0,"Windows XP Keywords")))},directives:[i.m,te.a,te.c,m.a,h.a,ce.c,ae.b,ce.e,ae.l,ae.o,ce.b],styles:["mat-card[_ngcontent-%COMP%]{background-color:transparent;margin:5px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#a7a9ac;font-size:12px;margin:0 auto .2rem}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a4a7ab;opacity:1}[_ngcontent-%COMP%]::-moz-placeholder{color:#a4a7ab;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{opacity:1}[_ngcontent-%COMP%]::placeholder{color:#a4a7ab;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#a4a7ab}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#a4a7ab}sup[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px}"]}),ne);function re(e,t){if(1&e){var c=f.hc();f.gc(0,"div",17),f.gc(1,"a",18),f.oc("click",(function(){return f.Hc(c),f.sc().download()})),f.gc(2,"mat-icon"),f.Pc(3,"vertical_align_bottom"),f.fc(),f.Pc(4," Download"),f.fc(),f.fc()}}function se(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.EXIF_IFD0)("description","")("getMetadata",c.getMetadata(c.ExifType.EXIF_IFD0))}}function de(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.EXIF_SUB_IFD)("description","")("getMetadata",c.getMetadata(c.ExifType.EXIF_SUB_IFD))}}function ge(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.GPS)("description","")("getMetadata",c.getMetadata(c.ExifType.GPS))}}function fe(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.HUFFMAN)("description","")("getMetadata",c.getMetadata(c.ExifType.HUFFMAN))}}function ue(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.INTEROPERABILITY)("description","")("getMetadata",c.getMetadata(c.ExifType.INTEROPERABILITY))}}function pe(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.JFIF)("description","")("getMetadata",c.getMetadata(c.ExifType.JFIF))}}function me(e,t){if(1&e&&f.bc(0,"app-image-details-readonly",19),2&e){var c=f.sc();f.yc("title",c.ExifType.JPEG)("description","")("getMetadata",c.getMetadata(c.ExifType.JPEG))}}function he(e,t){if(1&e&&f.bc(0,"app-image-details-editable",20),2&e){var c=f.sc();f.yc("metadata",null==c.image?null:c.image.Metadata)("imageId",null==c.image?null:c.image.Id)}}var ve,ye,be=function(e){return e.EXIF_IFD0="Exif IFD0",e.EXIF_SUB_IFD="Exif SubIFD",e.THUMBNAIL="Exif Thumbnail",e.FILE_TYPE="File Type",e.GPS="GPS",e.HUFFMAN="Huffman",e.INTEROPERABILITY="Interoperability",e.JFIF="JFIF",e.JPEG="JPEG",e}({}),Ie=[{path:"",component:Y},{path:o.a.CATALOGUE+"/:id",component:Y},{path:o.a.IMAGE_DETAILS+"/:id",component:(ve=function(){function e(t,c,a,i){_classCallCheck(this,e),this.route=t,this.catalogueService=c,this.router=a,this.routingState=i,this.ExifType=e.ExifType,this.updateImage=Object(g.debounce)(this.updateImage,1e3)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getImageDetails()}},{key:"goCatalogue",value:function(){var e=this.routingState.getPreviousUrl();e&&"/index"!==e&&e.startsWith("/catalogue")?this.router.navigate([e]):this.router.navigate([o.a.DASHBOARD])}},{key:"getImageDetails",value:function(){var e=this;this.route.queryParams.subscribe((function(t){e.catalogueName=t.catalogueName}));var t=+this.route.snapshot.paramMap.get("id");this.catalogueService.getImageById(t).subscribe((function(t){e.image=e.correctMetadata(t)}))}},{key:"goDashboard",value:function(){this.router.navigate([o.a.DASHBOARD])}},{key:"getMetadata",value:function(e){if(this.image)switch(e){case be.EXIF_IFD0:return this.image.Metadata[be.EXIF_IFD0];case be.EXIF_SUB_IFD:return this.image.Metadata[be.EXIF_SUB_IFD];case be.GPS:return this.image.Metadata[be.GPS];case be.HUFFMAN:return this.image.Metadata[be.HUFFMAN];case be.INTEROPERABILITY:return this.image.Metadata[be.INTEROPERABILITY];case be.JFIF:return this.image.Metadata[be.JFIF];case be.JPEG:return this.image.Metadata[be.JPEG]}return null}},{key:"correctMetadata",value:function(e){return void 0===e.Metadata[be.GPS]&&(e.Metadata[be.GPS]={}),e}},{key:"isMetadataContent",value:function(e){return this.image&&void 0!==this.image.Metadata[e]&&0!==Object.keys(this.image.Metadata[e]).length}},{key:"updateImage",value:function(e){var t=new W;t.Description=e.target.value,this.catalogueService.updateImage(this.image.Id,t).subscribe((function(t){e.target.blur()}))}},{key:"download",value:function(){var e=this;this.catalogueService.downloadImg(this.image.Id).subscribe((function(t){var c=e.image.Description?e.image.Description+".jpg":"IMG_".concat(e.image.Id,".jpg");if(navigator.msSaveBlob)navigator.msSaveBlob(t,c);else{var a=document.createElement("a");a.href=URL.createObjectURL(t),a.setAttribute("visibility","hidden"),a.download=c,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}))}}]),e}(),ve.ExifType=be,ve.\u0275fac=function(e){return new(e||ve)(f.ac(n.a),f.ac(u.a),f.ac(n.d),f.ac($.a))},ve.\u0275cmp=f.Ub({type:ve,selectors:[["app-image-details"]],decls:50,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4"],[1,"inline"],[1,"back-button",3,"click"],[1,"image-container","text-center"],[3,"src"],["class","text-center download-button",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for","id"],["type","text",1,"form-control",3,"value","keyup"],["type","text",1,"form-control",3,"value"],[1,"mat-panels-container"],[3,"title","description","getMetadata",4,"ngIf"],[1,"col-md-5"],[3,"metadata","imageId",4,"ngIf"],[1,"text-center","download-button"],["mat-button","",1,"btn",3,"click"],[3,"title","description","getMetadata"],[3,"metadata","imageId"]],template:function(e,t){1&e&&(f.gc(0,"div",0),f.gc(1,"div",1),f.gc(2,"div",2),f.gc(3,"h1",3),f.gc(4,"a",4),f.oc("click",(function(){return t.goDashboard()})),f.Pc(5,"Dashboard"),f.fc(),f.gc(6,"mat-icon"),f.Pc(7,"keyboard_arrow_right"),f.fc(),f.gc(8,"a",4),f.oc("click",(function(){return t.goCatalogue()})),f.Pc(9),f.fc(),f.gc(10,"mat-icon"),f.Pc(11,"keyboard_arrow_right"),f.fc(),f.Pc(12),f.fc(),f.fc(),f.fc(),f.gc(13,"div",1),f.gc(14,"div",2),f.gc(15,"div",5),f.bc(16,"img",6),f.fc(),f.bc(17,"hr"),f.Nc(18,re,5,0,"div",7),f.fc(),f.gc(19,"div",8),f.gc(20,"div",1),f.gc(21,"h1"),f.Pc(22,"General information"),f.fc(),f.fc(),f.gc(23,"div",9),f.gc(24,"label",10),f.Pc(25,"Description"),f.fc(),f.gc(26,"input",11),f.oc("keyup",(function(e){return t.updateImage(e)})),f.fc(),f.fc(),f.gc(27,"div",9),f.gc(28,"label",10),f.Pc(29,"Created date"),f.fc(),f.bc(30,"input",12),f.tc(31,"dateFormat"),f.fc(),f.gc(32,"div",9),f.gc(33,"label",10),f.Pc(34,"Last modified date"),f.fc(),f.bc(35,"input",12),f.tc(36,"dateFormat"),f.fc(),f.gc(37,"div",1),f.gc(38,"h1"),f.Pc(39,"Readonly Exif"),f.fc(),f.fc(),f.gc(40,"div",13),f.Nc(41,se,1,3,"app-image-details-readonly",14),f.Nc(42,de,1,3,"app-image-details-readonly",14),f.Nc(43,ge,1,3,"app-image-details-readonly",14),f.Nc(44,fe,1,3,"app-image-details-readonly",14),f.Nc(45,ue,1,3,"app-image-details-readonly",14),f.Nc(46,pe,1,3,"app-image-details-readonly",14),f.Nc(47,me,1,3,"app-image-details-readonly",14),f.fc(),f.fc(),f.gc(48,"div",15),f.Nc(49,he,1,2,"app-image-details-editable",16),f.fc(),f.fc(),f.fc()),2&e&&(f.Ob(9),f.Qc(t.catalogueName),f.Ob(3),f.Rc("",null==t.image?null:t.image.Description," "),f.Ob(4),f.zc("src",null==t.image?null:t.image.Url,f.Ic),f.Ob(2),f.yc("ngIf",t.image),f.Ob(8),f.yc("value",null==t.image?null:t.image.Description),f.Ob(4),f.yc("value",f.uc(31,17,null==t.image?null:t.image.DateCreated)),f.Pb("disabled",!0),f.Ob(5),f.yc("value",f.uc(36,19,null==t.image?null:t.image.DateModified)),f.Pb("disabled",!0),f.Ob(6),f.yc("ngIf",t.isMetadataContent(t.ExifType.EXIF_IFD0)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.EXIF_SUB_IFD)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.GPS)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.HUFFMAN)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.INTEROPERABILITY)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.JFIF)),f.Ob(1),f.yc("ngIf",t.isMetadataContent(t.ExifType.JPEG)),f.Ob(2),f.yc("ngIf",t.image))},directives:[m.a,i.m,v.a,Z,le],pipes:[G.a],styles:[".image-container[_ngcontent-%COMP%]{height:400px;margin:20px}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#a7a9ac;font-size:12px;margin:0 auto .2rem}h1[_ngcontent-%COMP%]{margin:16px}h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}.back-button[_ngcontent-%COMP%]{padding:5px}.back-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,75.3%,.4);cursor:pointer}.download-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:24px}.download-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;display:inline-flex;vertical-align:middle}"]}),ve)}],Pe=((ye=function e(){_classCallCheck(this,e)}).\u0275mod=f.Yb({type:ye}),ye.\u0275inj=f.Xb({factory:function(e){return new(e||ye)},imports:[[n.f.forChild(Ie)],n.f]}),ye),Ee=c("KZX/"),Fe=c("6k0h");c.d(t,"CatalogueModule",(function(){return ke}));var _e,ke=((_e=function e(){_classCallCheck(this,e)}).\u0275mod=f.Yb({type:_e}),_e.\u0275inj=f.Xb({factory:function(e){return new(e||_e)},imports:[[i.c,Ee.a,Fe.a,Pe,ae.h]]}),_e)}}]);